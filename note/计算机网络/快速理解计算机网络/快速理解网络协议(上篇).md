[快速理解计算机网络上篇]: http://www.52im.net/thread-1095-1-1.html

#### 五层模型

物联网的实现，分成好几层。每一层都有自己的功能，就像建筑物一样，每一层都依靠下一层的支持。用户接触到的，只是最上面的 一层。要理解互联网，必须从最下层开始，自下而上理解每一层的功能。



![](http://www.52im.net/data/attachment/forum/201811/01/150735oly7l6bu5cffff7h.jpg)

如上图所示，最底下的一层叫做“物理层”(Physical Layer)，最上面的一层叫做“应用层”(Application Layre)，中间的三层(自下而上)分别是“链接层”(Link Layer, 又称数据链路层)、“网络层”(Network Layer)和传输层(Transport Layer)。越下面的层越靠近硬件；越上面的层，越靠近用户。

#### 层与协议

每一层都是为了完成一种功能。为了实现这些功能，就需要大家遵守共同的规则大家都遵守的规则，就叫做"协议"(protocol)。

互联网的每一层，都定义了很多协议。这些协议的总称，就叫做“互联网协议”(Internet Protocol Suite)。它们 是互联网的核心。



#### 实体层

电脑要组网，第一件事要干什么？当然是先把电脑连起来，可以用光缆、电缆、双绞线、无线电波等方式。

这就叫做"物理层"，它主要规定了网络的一些电气特性，作用是负责传送0和1的电信号。



#### 链接层(数据链路层)

+  **定义**

  单纯的0和1没有任何意义，就必须规定解读方式：多个电信号一组？每个巅信号位有何意义？

  这就是“链接层”的功能，它在“实体层”的上方，确定了0和1的分组方式。

+  **以太网协议**

  早期的时候，每家公司都有自己的电信号分组方式。逐渐地，一种叫做“以太网”(Ethernet)的协议，占据了主导地位。以太网规定，一组电信号构成一个数据包，叫做"帧"(Fame)。每一帧分成两个部分：标头(Head)和数据(Data)。

  ![](http://www.52im.net/data/attachment/forum/201811/01/150929cw8a20dzzlonkene.jpg)

  “标头”包含数据包的一些说明想，比如发送者、接受者、数据类型等等；“数据”则是数据包的具体内容。

  “标头”的长度，固定为18个字节。“数据”的长度，最短为46字节，最长为1500字节。因此，整个“帧”最短为64个字节，最短为64字节，最长为1518字节。如果数据很长，就必须分割成多个帧进行发送。

+  **MAC地址**

  上面提到，以太网数据包的"标头"，包含了发送者和接收者的信息。那么，发送者和接受者是如何标识呢？

  以太网规定，连入网络的所有设备，都必须具有“网卡”接口。数据包必须是从一块网卡，传送到另一块网卡。网卡的地址，就是数据包的发送地址和接收地址，这叫做MAC地址。

  每块网卡出厂的时候，都有一个全世界独一无二的MAC地址，长度是48位，通常用12个十六进制表示。

  前6个十六进制是厂商编号，后6个是该厂的网卡流水号。有了MAC地址，就可以定位网卡和数据包的路径了。

+  **广播**

  定义地址只是第一步，后面还有更多的步骤：

  1）首先：一块网卡怎么会知道另一块网卡的MAC地址？

  回答是有一种ARP协议，可以解决这个问题。这个留到后面介绍，这里只需要知道，以太网数据包必须知道接收方的MAC地址，然后才能发送。

  2）其次：就算有了MAC地址，系统怎样才能把数据包准确送到接收方？

  回答是以太网采用了一种很“原始”的方式，它不是把数据包准确送到接收方，而是向本网络内所有计算机发送，让每台计算机自己判断，是否为接收方。

  ![](http://www.52im.net/data/attachment/forum/201811/01/150935p07k2g2y6y7k74e0.jpg)

  上图中，1号计算机向2号计算机发送一个数据包，同一个网络的3号、4号、5号计算机都会收到这个包。它们读取这个包的“标头”，找到接收方的MAC地址，然后与自身的MAC地质局相比较，如果两者相同，就接受这个包，做进一步处理，否则就丢弃这个包。这种发送方式叫做"广播"(broadcasting)

  有了数据包的定义、网卡的MAC地址，“链接层”就可以在多台计算机之间传送数据了。

  ​

  ​

#### 网络层

+ 网络层由来

  以太网协议，依靠MAC地址发送数据。理论上，单单依靠MAC地址，上海的网卡就可以找到洛杉矶的网卡了，技术上是可以实现的。

  但是，这样做有一个重大的缺点。以太网采用广播的方式发送数据包，所有成员人手一包，不仅效率低，而且局限在发送者的子网络。也就是说，如果两台计算机所在同一个子网络，广播是传不过去的。这种设计是不合理的，否则互联网上每一台计算机都会收到所有包，会引起灾难。

  互联网风是无数子网络共同组成的一个矩形网络，

http://www.52im.net/thread-1095-1-1.html